{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.jsx","CartItem.jsx","CartContainer.jsx","App.js","reportWebVitals.js","index.js"],"names":["reducer","state","action","type","cart","filter","cartItem","id","payload","tempCart","map","amount","tempCart2","reduce","cartTotal","price","itemTotal","total","parseFloat","toFixed","loading","tempCart3","AppContext","React","createContext","initialState","title","img","AppProvider","children","useReducer","dispatch","fetchData","a","fetch","response","json","useEffect","Provider","value","clearCart","remove","increase","decrease","toggleAmount","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","item","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2817c3f5.chunk.js","sourcesContent":["const reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'CLEAR_CART':\r\n            return {\r\n                ...state,\r\n                cart: []\r\n            }\r\n        case 'REMOVE':\r\n            return {\r\n                ...state,\r\n                cart: state.cart.filter((cartItem) => cartItem.id !== action.payload)\r\n            }\r\n        case 'INCREASE':\r\n            let tempCart = state.cart.map((cartItem) => {\r\n                if(cartItem.id === action.payload) {\r\n                    return {\r\n                        ...cartItem,\r\n                        amount: cartItem.amount + 1\r\n                    }\r\n                }\r\n                return cartItem\r\n            })\r\n            return {\r\n                ...state,\r\n                cart: tempCart\r\n            }\r\n        case 'DECREASE':\r\n            let tempCart2 = state.cart.map((cartItem) => {\r\n                if(cartItem.id === action.payload) {\r\n                    return {\r\n                        ...cartItem,\r\n                        amount: cartItem.amount - 1\r\n                    }\r\n                }\r\n                return cartItem\r\n            }).filter((cartItem) => cartItem.amount !== 0)\r\n            return {\r\n                ...state,\r\n                cart: tempCart2\r\n            }\r\n        case 'GET_TOTALS':\r\n            \r\n            let {total, amount} = state.cart.reduce((cartTotal, cartItem) => {\r\n                const {price, amount} = cartItem\r\n                const itemTotal = price * amount\r\n                cartTotal.total += itemTotal\r\n                cartTotal.amount += amount\r\n                return cartTotal\r\n            }, {\r\n                total: 0,\r\n                amount: 0\r\n            })\r\n            total = parseFloat(total.toFixed(2))\r\n            return {\r\n                ...state,\r\n                total,\r\n                amount\r\n            }\r\n        case 'LOADING':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'DISPLAY_ITEMS':\r\n            return {\r\n                ...state,\r\n                cart: action.payload,\r\n                loading: false\r\n            }\r\n        case 'TOGGLE_AMOUNT':\r\n            let tempCart3 = state.cart.map((cartItem) => {\r\n                if(cartItem.id === action.payload.id) {\r\n                    if(action.payload.type === 'inc') {\r\n                        return {\r\n                            ...cartItem,\r\n                            amount: cartItem.amount + 1\r\n                        }\r\n                    }\r\n                    if(action.payload.type === 'dec') {\r\n                        return {\r\n                            ...cartItem,\r\n                            amount: cartItem.amount - 1\r\n                        }\r\n                    }\r\n                }\r\n                return cartItem\r\n            }).filter((cartItem) => cartItem.amount !== 0)\r\n            return {\r\n                ...state,\r\n                cart: tempCart3,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default reducer","import React, { useState, useContext, useReducer, useEffect } from 'react'\r\nimport cartItems from './data'\r\nimport reducer from './reducer'\r\n// ATTENTION!!!!!!!!!!\r\n// I SWITCHED TO PERMANENT DOMAIN\r\nconst url = 'https://course-api.com/react-useReducer-cart-project'\r\nconst AppContext = React.createContext()\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    cart: cartItems,\r\n    total: 0,\r\n    amount: 0,\r\n}\r\n\r\nconst AppProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(reducer, initialState)\r\n\r\n    const clearCart = () => {\r\n        dispatch({\r\n            type: 'CLEAR_CART'\r\n        })\r\n    }\r\n\r\n    const remove = (id) => {\r\n        dispatch({\r\n            type: 'REMOVE',\r\n            payload: id\r\n        })\r\n    }\r\n\r\n    const increase = (id) => {\r\n        dispatch({\r\n            type: 'INCREASE',\r\n            payload: id\r\n        })\r\n    }\r\n\r\n    const decrease = (id) => {\r\n        dispatch({\r\n            type: 'DECREASE',\r\n            payload: id\r\n        })\r\n    }\r\n\r\n    const fetchData = async () => {\r\n        dispatch({\r\n            type: 'LOADING'\r\n        })\r\n        const response  = await fetch(url)\r\n        const cart = await response.json()\r\n        dispatch({\r\n            type: 'DISPLAY_ITEMS',\r\n            payload: cart\r\n        })\r\n    }\r\n\r\n    const toggleAmount = (id, type) => {\r\n        dispatch({type: 'TOGGLE_AMOUNT', payload: {id, type}})\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        dispatch({type: 'GET_TOTALS'})\r\n    }, [state.cart])\r\n\r\n    return (\r\n        <AppContext.Provider\r\n            value={{\r\n                ...state,\r\n                clearCart,\r\n                remove,\r\n                increase,\r\n                decrease,\r\n                toggleAmount\r\n            }}\r\n        >\r\n            {children}\r\n        </AppContext.Provider>\r\n    )\r\n}\r\n// make sure use\r\nexport const useGlobalContext = () => {\r\n    return useContext(AppContext)\r\n}\r\n\r\nexport { AppContext, AppProvider }","export default [\r\n    {\r\n        id: 1,\r\n        title: 'Samsung Galaxy S7',\r\n        price: 599.99,\r\n        img:\r\n            'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\r\n        amount: 1,\r\n    },\r\n    {\r\n        id: 2,\r\n        title: 'google pixel ',\r\n        price: 499.99,\r\n        img:\r\n            'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\r\n        amount: 1,\r\n    },\r\n    {\r\n        id: 3,\r\n        title: 'Xiaomi Redmi Note 2',\r\n        price: 699.99,\r\n        img:\r\n            'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\r\n        amount: 1,\r\n    },\r\n];","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\nconst Navbar = () => {\r\n\r\n    const { amount } = useGlobalContext()\r\n\r\n    return (\r\n        <nav>\r\n            <div className='nav-center'>\r\n                <h3>useReducer</h3>\r\n                <div className='nav-container'>\r\n                    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n                        <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\r\n                    </svg>\r\n                    <div className='amount-container'>\r\n                        <p className='total-amount'>{amount}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\nconst CartItem = ({ id, img, title, price, amount }) => {\r\n\r\n    const { remove, increase, decrease, toggleAmount } = useGlobalContext()\r\n\r\n    return (\r\n        <article className='cart-item'>\r\n            <img src={img} alt={title} />\r\n            <div>\r\n                <h4>{title}</h4>\r\n                <h4 className='item-price'>${price}</h4>\r\n                {/* remove button */}\r\n                <button\r\n                    className='remove-btn'\r\n                    onClick={() => remove(id)}\r\n                >\r\n                    remove\r\n                </button>\r\n            </div>\r\n            <div>\r\n                {/* increase amount */}\r\n                <button className='amount-btn' onClick={() => toggleAmount(id, 'inc')}>\r\n                    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n                        <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\r\n                    </svg>\r\n                </button>\r\n                {/* amount */}\r\n                <p className='amount'>{amount}</p>\r\n                {/* decrease amount */}\r\n                <button className='amount-btn' onClick={() => toggleAmount(id, 'dec')}>\r\n                    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n                        <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n        </article>\r\n    )\r\n}\r\n\r\nexport default CartItem","import React from 'react'\r\nimport CartItem from './CartItem'\r\nimport { useGlobalContext } from './context'\r\n\r\nconst CartContainer = () => {\r\n  const { cart, total, clearCart } = useGlobalContext()\r\n  \r\n  if (cart.length === 0) {\r\n    return (\r\n      <section className='cart'>\r\n        {/* cart header */}\r\n        <header>\r\n          <h2>your bag</h2>\r\n          <h4 className='empty-cart'>is currently empty</h4>\r\n        </header>\r\n      </section>\r\n    )\r\n  }\r\n  return (\r\n    <section className='cart'>\r\n      {/* cart header */}\r\n      <header>\r\n        <h2>your bag</h2>\r\n      </header>\r\n      {/* cart items */}\r\n      <div>\r\n        {cart.map((item) => {\r\n          return <CartItem key={item.id} {...item} />\r\n        })}\r\n      </div>\r\n      {/* cart footer */}\r\n      <footer>\r\n        <hr />\r\n        <div className='cart-total'>\r\n          <h4>\r\n            total <span>${total}</span>\r\n          </h4>\r\n        </div>\r\n        <button\r\n          className='btn clear-btn'\r\n          onClick={clearCart}\r\n        >\r\n          clear cart\r\n        </button>\r\n      </footer>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CartContainer","import './App.css';\n\nimport Navbar from './Navbar'\nimport CartContainer from './CartContainer'\nimport { useGlobalContext } from './context';\n// items\n\nfunction App() {\n\n  const { loading } = useGlobalContext()\n\n  if (loading) {\n    return (\n      <div className='loading'>\n        <h1>Loading...</h1>\n      </div>\n    )\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { AppProvider } from './context';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}